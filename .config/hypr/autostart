#!/usr/bin/bash

# variables
config=$HOME/.config/hypr
scripts=$config/scripts

# Bar, wallpaper
~/.config/hypr/hyprland/scripts/start_geoclue_agent.sh &
# qs -c ii &
qs -c noctalia-shell &

# Input method
fcitx5 &

# waybar
# $scripts/launch_waybar &
$scripts/tools/dynamic &
# agsv1 &

# wallpaper
# $scripts/wall $config/wallpapers/cloud.png &
# hyprpaper &

# effects
$scripts/rgb &

# other
/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
sleep 1 && dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP &
gnome-keyring-daemon --start --components=secrets &
# /usr/lib/polkit-kde-authentication-agent-1 || /usr/libexec/polkit-kde-authentication-agent-1  || /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 || /usr/libexec/polkit-gnome-authentication-agent-1 
dbus-update-activation-environment --all

# Audio
easyeffects --gapplication-service &

# Clipboard: history
# exec-once = wl-paste --watch cliphist store &
wl-paste --type text --watch bash -c 'cliphist store && qs -c $qsConfig ipc call cliphistService update' &
wl-paste --type image --watch bash -c 'cliphist store && qs -c $qsConfig ipc call cliphistService update' &

# Bluetooth manager
blueberry-tray &

# Blue-light filter
wlsunset -t 3500 -T 6500 -S 8:00 -s 20:00 &

#swayidle daemon and inhibitor
# swayidle -w \
#   timeout 600 'hyprlock' \
#   before-sleep 'hyprlock' &

# Hypridle and inhibitor
hypridle &
# caffeine &
# wayland-pipewire-idle-inhibit -w &
# wl-mpris-idle-inhibit &

# Cliboard manager
wl-paste --type text --watch cliphist store &
wl-paste --type image --watch cliphist store &

# nordvpn service
systemctl start nordvpnd.service &

# Nextcloud and pcloud
sleep 5 && ~/Applications/pcloud &

# Automatic mounting
nohup udiskie --tray &

# Set soruce volume
pamixer --default-source --set-volume 30

# Hyprland stuff
# hyprctl keyword general:layout "master" &
# ags_end4 &
hyprpm reload -n &

# Launch swww and wallpaper script
# sleep 5 && swww-daemon & 
# sleep 5 && ~/.local/bin/wallpaper ~/.config/wallpapers/ &
# sleep 5 && swww-daemon & 
# sleep 5 && waypaper-engine daemon &

# Network manager
# nm-applet &
